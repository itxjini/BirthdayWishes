<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 16th Birthday Khuzaima! ðŸŽ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 50%, #ffd4e8 100%);
            min-height: 100vh;
        }

        /* Countdown Screen */
        #countdown-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #ffecd2 100%);
            position: relative;
            overflow: hidden;
        }

        #countdown-screen::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .countdown-title {
            font-size: 2.5rem;
            color: #ff1493;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: fadeIn 1s ease-in;
            z-index: 1;
        }

        .countdown-timer {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            z-index: 1;
        }

        .time-unit {
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255,20,147,0.3);
            min-width: 120px;
            transition: transform 0.3s ease;
        }

        .time-unit:hover {
            transform: translateY(-5px);
        }

        .time-value {
            font-size: 3rem;
            font-weight: bold;
            color: #ff1493;
            display: block;
        }

        .time-label {
            font-size: 1rem;
            color: #666;
            margin-top: 10px;
        }

        .test-button {
            margin-top: 40px;
            padding: 15px 40px;
            font-size: 1rem;
            background: #ff1493;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255,20,147,0.4);
            transition: all 0.3s ease;
            z-index: 1;
        }

        .test-button:hover {
            transform: scale(1.05);
            box-shadow: 0 7px 20px rgba(255,20,147,0.6);
        }

        /* Celebration Screen */
        #celebration-screen {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
        }

        .celebration-screen.active {
            display: block;
            animation: fadeIn 1s ease-in;
        }

        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        /* Music Control */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 200;
            transition: transform 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.1);
        }

        .music-control span {
            font-size: 1.5rem;
        }

        /* Birthday Message */
        .birthday-message {
            max-width: 800px;
            margin: 0 auto 60px;
            text-align: center;
            animation: fadeInUp 1.5s ease-out 0.5s both;
        }

        .birthday-message h1 {
            font-size: 3rem;
            color: #ff1493;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .birthday-message p {
            font-size: 1.2rem;
            line-height: 2;
            color: #555;
            margin-bottom: 20px;
            text-align: justify;
            animation: typingFade 2s ease-out 1s both;
        }

        /* Birthday Cake */
        .cake-section {
            text-align: center;
            margin: 60px auto;
            animation: fadeInUp 1.5s ease-out 1s both;
        }

        .cake-container {
            display: inline-block;
            position: relative;
            animation: bounce 2s ease-in-out infinite;
        }

        .cake {
            font-size: 8rem;
            filter: drop-shadow(0 10px 20px rgba(255,20,147,0.3));
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* Falling Petals Container */
        .petals-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffb6d9;
            border-radius: 50%;
            animation: fallPetal linear infinite;
            opacity: 0.8;
        }

        @keyframes fallPetal {
            0% {
                transform: translateY(-50px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Photo Cards */
        .photo-cards {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
            margin: 80px auto;
            max-width: 1200px;
            position: relative;
            z-index: 2;
        }

        .photo-card {
            width: 250px;
            height: 300px;
            background: white;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-radius: 10px;
            transform: rotate(0deg);
            transition: transform 0.3s ease;
            opacity: 0;
            animation: cardSlideIn 0.8s ease-out forwards;
        }

        .photo-card:nth-child(1) {
            transform: rotate(-5deg);
            animation-delay: 2s;
        }

        .photo-card:nth-child(2) {
            transform: rotate(3deg);
            animation-delay: 2.3s;
        }

        .photo-card:nth-child(3) {
            transform: rotate(-3deg);
            animation-delay: 2.6s;
        }

        .photo-card:nth-child(4) {
            transform: rotate(5deg);
            animation-delay: 2.9s;
        }

        .photo-card:hover {
            transform: rotate(0deg) scale(1.05);
            z-index: 10;
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffeef8 0%, #ffb6d9 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            color: #ff1493;
            font-size: 1.2rem;
            text-align: center;
        }

        @keyframes cardSlideIn {
            from {
                opacity: 0;
                transform: translateY(50px) rotate(0deg);
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes typingFade {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Floating Hearts */
        .floating-heart {
            position: fixed;
            font-size: 2rem;
            animation: floatHeart 6s ease-in infinite;
            opacity: 0;
            z-index: 50;
        }

        @keyframes floatHeart {
            0% {
                opacity: 0;
                transform: translateY(100vh) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) rotate(360deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .countdown-title {
                font-size: 1.8rem;
            }

            .time-unit {
                padding: 20px;
                min-width: 80px;
            }

            .time-value {
                font-size: 2rem;
            }

            .birthday-message h1 {
                font-size: 2rem;
            }

            .birthday-message p {
                font-size: 1rem;
                text-align: center;
            }

            .cake {
                font-size: 5rem;
            }

            .photo-card {
                width: 200px;
                height: 240px;
            }

            .tree-container {
                width: 200px;
                height: 300px;
            }
    </style>
</head>
<body>
    <!-- Countdown Screen -->
    <div id="countdown-screen">
        <h1 class="countdown-title">âœ¨ Counting down to Khuzaima's Sweet 16! âœ¨</h1>
        <div class="countdown-timer">
            <div class="time-unit">
                <span class="time-value" id="days">00</span>
                <span class="time-label">Days</span>
            </div>
            <div class="time-unit">
                <span class="time-value" id="hours">00</span>
                <span class="time-label">Hours</span>
            </div>
            <div class="time-unit">
                <span class="time-value" id="minutes">00</span>
                <span class="time-label">Minutes</span>
            </div>
            <div class="time-unit">
                <span class="time-value" id="seconds">00</span>
                <span class="time-label">Seconds</span>
            </div>
        </div>
    </div>

    <!-- Celebration Screen -->
    <div id="celebration-screen">
        <!-- Music Control -->
        <div class="music-control" onclick="toggleMusic()">
            <span id="music-icon">ðŸ”Š</span>
        </div>

        <!-- Confetti Canvas -->
        <canvas id="confetti-canvas"></canvas>

        <!-- Birthday Message -->
        <div class="birthday-message">
            <h1>ðŸŽ‚ Happy 16th Birthday, Khuzaima Alvi! ðŸŽ‚</h1>
            <p>
                Dear Khuzaima, on this magical day, January 16th, as you turn 16, I want you to know how incredibly special you are. You've grown into such a beautiful, kind-hearted, and remarkable young woman, and I couldn't be prouder of everything you've become.
            </p>
            <p>
                Sixteen is a milestone filled with dreams, hopes, and endless possibilities. May this year bring you joy beyond measure, laughter that echoes in your heart, and adventures that create memories you'll treasure forever. You deserve all the happiness in the world.
            </p>
            <p>
                As you step into this new chapter, remember that you are loved more than words can express. Your smile lights up every room, your spirit inspires everyone around you, and your future is as bright as the stars above. Keep shining, keep dreaming, and never stop being the amazing person you are.
            </p>
            <p>
                Here's to 16 years of beautiful memories and to all the wonderful moments yet to come. May your birthday be filled with love, cake, presents, and everything that makes your heart sing! ðŸ’•
            </p>
            <p style="font-size: 1.5rem; color: #ff1493; font-weight: bold;">
                With all my love, today and always! ðŸŒ¸âœ¨
            </p>
        </div>

        <!-- Birthday Cake -->
        <div class="cake-section">
            <div class="cake-container">
                <div class="cake">ðŸŽ‚</div>
            </div>
        </div>

        <!-- Photo Cards -->
        <div class="photo-cards">
            <div class="photo-card">
                <div class="photo-placeholder">ðŸ“·<br>Memory 1</div>
            </div>
            <div class="photo-card">
                <div class="photo-placeholder">ðŸ“·<br>Memory 2</div>
            </div>
            <div class="photo-card">
                <div class="photo-placeholder">ðŸ“·<br>Memory 3</div>
            </div>
            <div class="photo-card">
                <div class="photo-placeholder">ðŸ“·<br>Memory 4</div>
            </div>
        </div>

        <!-- Falling Petals Container -->
        <div class="petals-container"></div>
    </div>

    <script>
        // Target birthday date
        const birthdayDate = new Date('2026-01-16T00:00:00').getTime();
        let countdownInterval;
        let musicPlaying = false;

        // Happy Birthday melody using Web Audio API
        let audioContext;
        let isPlayingMelody = false;
        let melodyTimeout;

        function initAudio() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }

        // Happy Birthday melody notes (frequency in Hz)
        const happyBirthdayMelody = [
            { note: 264, duration: 0.4 }, // C
            { note: 264, duration: 0.4 }, // C
            { note: 297, duration: 0.8 }, // D
            { note: 264, duration: 0.8 }, // C
            { note: 352, duration: 0.8 }, // F
            { note: 330, duration: 1.6 }, // E
            
            { note: 264, duration: 0.4 }, // C
            { note: 264, duration: 0.4 }, // C
            { note: 297, duration: 0.8 }, // D
            { note: 264, duration: 0.8 }, // C
            { note: 396, duration: 0.8 }, // G
            { note: 352, duration: 1.6 }, // F
            
            { note: 264, duration: 0.4 }, // C
            { note: 264, duration: 0.4 }, // C
            { note: 528, duration: 0.8 }, // C (high)
            { note: 440, duration: 0.8 }, // A
            { note: 352, duration: 0.8 }, // F
            { note: 330, duration: 0.8 }, // E
            { note: 297, duration: 0.8 }, // D
            
            { note: 466, duration: 0.4 }, // Bb
            { note: 466, duration: 0.4 }, // Bb
            { note: 440, duration: 0.8 }, // A
            { note: 352, duration: 0.8 }, // F
            { note: 396, duration: 0.8 }, // G
            { note: 352, duration: 1.6 }  // F
        ];

        function playNote(frequency, duration) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Use sine wave for soft, pleasant sound
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            
            // Soft volume with smooth fade in and out
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + 0.05);
            gainNode.gain.linearRampToValueAtTime(0.12, audioContext.currentTime + duration - 0.1);
            gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playHappyBirthdayMelody() {
            if (!isPlayingMelody) return;
            
            let currentTime = 0;
            
            happyBirthdayMelody.forEach((noteData, index) => {
                melodyTimeout = setTimeout(() => {
                    if (isPlayingMelody) {
                        playNote(noteData.note, noteData.duration);
                    }
                }, currentTime * 1000);
                
                currentTime += noteData.duration;
            });
            
            // Loop the melody
            melodyTimeout = setTimeout(() => {
                if (isPlayingMelody) {
                    playHappyBirthdayMelody();
                }
            }, currentTime * 1000);
        }

        function startMusic() {
            if (!audioContext) {
                initAudio();
            }
            isPlayingMelody = true;
            playHappyBirthdayMelody();
        }

        function stopMusic() {
            isPlayingMelody = false;
            if (melodyTimeout) {
                clearTimeout(melodyTimeout);
            }
        }

        // Tick sound using Web Audio API
        function playTickSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // Update countdown timer
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = birthdayDate - now;

            if (distance < 0) {
                clearInterval(countdownInterval);
                triggerCelebration();
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            
            const secondsEl = document.getElementById('seconds');
            const oldSeconds = secondsEl.textContent;
            const newSeconds = String(seconds).padStart(2, '0');
            
            if (oldSeconds !== newSeconds) {
                secondsEl.style.transform = 'scale(1.2)';
                secondsEl.style.color = '#ff1493';
                playTickSound();
                
                setTimeout(() => {
                    secondsEl.style.transform = 'scale(1)';
                    secondsEl.style.color = '#ff1493';
                }, 200);
            }
            
            secondsEl.textContent = newSeconds;
        }

        // Confetti animation
        function createConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const confettiPieces = [];
            const colors = ['#ff69b4', '#ffffff', '#ffd700', '#ffb6d9', '#ff1493'];

            class ConfettiPiece {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = -20;
                    this.size = Math.random() * 10 + 5;
                    this.speedY = Math.random() * 3 + 2;
                    this.speedX = Math.random() * 2 - 1;
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.rotation = Math.random() * 360;
                    this.rotationSpeed = Math.random() * 10 - 5;
                }

                update() {
                    this.y += this.speedY;
                    this.x += this.speedX;
                    this.rotation += this.rotationSpeed;

                    if (this.y > canvas.height) {
                        this.y = -20;
                        this.x = Math.random() * canvas.width;
                    }
                }

                draw() {
                    ctx.save();
                    ctx.translate(this.x, this.y);
                    ctx.rotate(this.rotation * Math.PI / 180);
                    ctx.fillStyle = this.color;
                    ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
                    ctx.restore();
                }
            }

            for (let i = 0; i < 150; i++) {
                confettiPieces.push(new ConfettiPiece());
            }

            function animateConfetti() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                confettiPieces.forEach(piece => {
                    piece.update();
                    piece.draw();
                });
                requestAnimationFrame(animateConfetti);
            }

            animateConfetti();
        }

        // Create falling petals
        function createPetals() {
            setInterval(() => {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.left = Math.random() * 100 + '%';
                petal.style.animationDuration = (Math.random() * 3 + 4) + 's';
                petal.style.animationDelay = Math.random() * 2 + 's';
                document.querySelector('.petals-container').appendChild(petal);

                setTimeout(() => petal.remove(), 8000);
            }, 300);
        }

        // Create floating hearts
        function createFloatingHearts() {
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = 'ðŸ’•';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
                document.body.appendChild(heart);

                setTimeout(() => heart.remove(), 8000);
            }, 2000);
        }

        // Toggle music
        function toggleMusic() {
            const icon = document.getElementById('music-icon');
            if (musicPlaying) {
                stopMusic();
                icon.textContent = 'ðŸ”‡';
                musicPlaying = false;
            } else {
                startMusic();
                icon.textContent = 'ðŸ”Š';
                musicPlaying = true;
            }
        }

        // Trigger celebration
        function triggerCelebration() {
            clearInterval(countdownInterval);
            document.getElementById('countdown-screen').style.display = 'none';
            const celebrationScreen = document.getElementById('celebration-screen');
            celebrationScreen.style.display = 'block';
            celebrationScreen.classList.add('active');

            // Start confetti
            createConfetti();
            playConfettiPop();

            // Start music
            startMusic();
            musicPlaying = true;

            // Create petals and hearts
            createPetals();
            createFloatingHearts();

            // Load images
            loadImages();
        }

        // Load photo images
        function loadImages() {
            const cards = document.querySelectorAll('.photo-card');
            cards.forEach((card, index) => {
                const img = new Image();
                // Try both relative path without leading slash
                img.src = `images/image${index + 1}.jpeg`;
                img.onerror = () => {
                    // Try with jpg extension as fallback
                    img.src = `images/image${index + 1}.jpg`;
                    img.onerror = () => {
                        // Keep placeholder if both fail
                        console.log(`Failed to load image${index + 1}`);
                    };
                };
                img.onload = () => {
                    card.innerHTML = '';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.borderRadius = '5px';
                    card.appendChild(img);
                };
            });
        }

        // Confetti Pop ups
        function playConfettiPop() {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.type = 'triangle';
            osc.frequency.setValueAtTime(120, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(40, ctx.currentTime + 0.2);

            gain.gain.setValueAtTime(0.6, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.25);

            osc.start();
            osc.stop(ctx.currentTime + 0.25);
        }

        // Initialize on page load
        window.onload = function() {
            const now = new Date().getTime();
            
            // Check if birthday has already passed
            if (now >= birthdayDate) {
                triggerCelebration();
            } else {
                // Start countdown
                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
            }
        };

        // Handle window resize for confetti canvas
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('confetti-canvas');
            if (canvas) {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
        });
    </script>
</body>
</html>